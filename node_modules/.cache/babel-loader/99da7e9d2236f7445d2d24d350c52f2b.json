{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\nfunction useLockedBody() {\n  let initialLocked = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  const [locked, setLocked] = useState(initialLocked);\n  useIsomorphicLayoutEffect(() => {\n    if (!locked) {\n      return;\n    }\n\n    const originalOverflow = document.body.style.overflow;\n    const originalPaddingRight = document.body.style.paddingRight;\n    document.body.style.overflow = 'hidden';\n    const root = document.getElementById('___gatsby');\n    const scrollBarWidth = root ? root.offsetWidth - root.scrollWidth : 0;\n\n    if (scrollBarWidth) {\n      document.body.style.paddingRight = `${scrollBarWidth}px`;\n    }\n\n    return () => {\n      document.body.style.overflow = originalOverflow;\n\n      if (scrollBarWidth) {\n        document.body.style.paddingRight = originalPaddingRight;\n      }\n    };\n  }, [locked]);\n  useEffect(() => {\n    if (locked !== initialLocked) {\n      setLocked(initialLocked);\n    }\n  }, [initialLocked]);\n  return [locked, setLocked];\n}\n\nexport default useLockedBody;","map":{"version":3,"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AAGA,SAASC,yBAAT,QAA0C,8BAA1C;;AAIA,SAASC,aAAT,GAA4C;AAAA,MAArBC,aAAqB,uEAAL,KAAK;AAC1C,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBL,QAAQ,CAACG,aAAD,CAApC;AAGAF,2BAAyB,CAAC,MAAK;AAC7B,QAAI,CAACG,MAAL,EAAa;AACX;AACD;;AAGD,UAAME,gBAAgB,GAAGC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,QAA7C;AACA,UAAMC,oBAAoB,GAAGJ,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBG,YAAjD;AAGAL,YAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,QAApB,GAA+B,QAA/B;AAGA,UAAMG,IAAI,GAAGN,QAAQ,CAACO,cAAT,CAAwB,WAAxB,CAAb;AACA,UAAMC,cAAc,GAAGF,IAAI,GAAGA,IAAI,CAACG,WAAL,GAAmBH,IAAI,CAACI,WAA3B,GAAyC,CAApE;;AAGA,QAAIF,cAAJ,EAAoB;AAClBR,cAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBG,YAApB,GAAmC,GAAGG,cAAc,IAApD;AACD;;AAED,WAAO,MAAK;AACVR,cAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBC,QAApB,GAA+BJ,gBAA/B;;AAEA,UAAIS,cAAJ,EAAoB;AAClBR,gBAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoBG,YAApB,GAAmCD,oBAAnC;AACD;AACF,KAND;AAOD,GA5BwB,EA4BtB,CAACP,MAAD,CA5BsB,CAAzB;AA+BAL,WAAS,CAAC,MAAK;AACb,QAAIK,MAAM,KAAKD,aAAf,EAA8B;AAC5BE,eAAS,CAACF,aAAD,CAAT;AACD;AAEF,GALQ,EAKN,CAACA,aAAD,CALM,CAAT;AAOA,SAAO,CAACC,MAAD,EAASC,SAAT,CAAP;AACD;;AAED,eAAeH,aAAf","names":["useEffect","useState","useIsomorphicLayoutEffect","useLockedBody","initialLocked","locked","setLocked","originalOverflow","document","body","style","overflow","originalPaddingRight","paddingRight","root","getElementById","scrollBarWidth","offsetWidth","scrollWidth"],"sources":["/Users/hyeonminsong/developer/Three.js/portfolio-inner-site/node_modules/usehooks-ts/src/useLockedBody/useLockedBody.ts"],"sourcesContent":["import { useEffect, useState } from 'react'\n\n// See: https://usehooks-ts.com/react-hook/use-isomorphic-layout-effect\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect'\n\ntype ReturnType = [boolean, (locked: boolean) => void]\n\nfunction useLockedBody(initialLocked = false): ReturnType {\n  const [locked, setLocked] = useState(initialLocked)\n\n  // Do the side effect before render\n  useIsomorphicLayoutEffect(() => {\n    if (!locked) {\n      return\n    }\n\n    // Save initial body style\n    const originalOverflow = document.body.style.overflow\n    const originalPaddingRight = document.body.style.paddingRight\n\n    // Lock body scroll\n    document.body.style.overflow = 'hidden'\n\n    // Get the scrollBar width\n    const root = document.getElementById('___gatsby') // or root\n    const scrollBarWidth = root ? root.offsetWidth - root.scrollWidth : 0\n\n    // Avoid width reflow\n    if (scrollBarWidth) {\n      document.body.style.paddingRight = `${scrollBarWidth}px`\n    }\n\n    return () => {\n      document.body.style.overflow = originalOverflow\n\n      if (scrollBarWidth) {\n        document.body.style.paddingRight = originalPaddingRight\n      }\n    }\n  }, [locked])\n\n  // Update state if initialValue changes\n  useEffect(() => {\n    if (locked !== initialLocked) {\n      setLocked(initialLocked)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialLocked])\n\n  return [locked, setLocked]\n}\n\nexport default useLockedBody\n"]},"metadata":{},"sourceType":"module"}