{"ast":null,"code":"var _jsxFileName = \"/Users/hyeonminsong/developer/Three.js/portfolio-inner-site/src/components/general/MusicPlayer.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport PlayIcon from '../../assets/icons/play.png';\nimport PauseIcon from '../../assets/icons/pause.png';\nimport RewindIcon from '../../assets/icons/rewind.png';\nimport ForwardIcon from '../../assets/icons/forward.png';\nimport CDIcon from '../../assets/icons/cd.png';\nimport colors from '../../constants/colors';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MusicPlayer = props => {\n  _s();\n\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioRef = useRef(new Audio(props.src));\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(1); // set current time\n\n  useEffect(() => {\n    audioRef.current.addEventListener('timeupdate', () => {\n      setCurrentTime(audioRef.current.currentTime);\n      setDuration(audioRef.current.duration);\n\n      if (audioRef.current.currentTime === audioRef.current.duration) {\n        setIsPlaying(false);\n      }\n    });\n  }, []); // fast fowrad 15 seconds\n\n  const fastForward = () => {\n    audioRef.current.currentTime += 15;\n  }; // fast rewind to start of song\n\n\n  const fastRewind = () => {\n    audioRef.current.currentTime = 0;\n  };\n\n  const togglePlay = () => {\n    if (isPlaying) {\n      // setCdState(CDState.easeIn);\n      setIsPlaying(false);\n    } else {\n      // setCdState(CDState.easeOut);\n      setIsPlaying(true);\n      props.setCurrentSong(props.title);\n    }\n  };\n\n  useEffect(() => {\n    if (props.currentSong === props.title) {\n      audioRef.current.play();\n      setIsPlaying(true);\n    } else {\n      audioRef.current.pause();\n      setIsPlaying(false);\n    }\n  }, [props.currentSong, props.title]); // format current time\n\n  const formatTime = time => {\n    const minutes = Math.floor(time / 60);\n    const seconds = Math.floor(time - minutes * 60);\n    return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n  };\n\n  useEffect(() => {\n    if (isPlaying) audioRef.current.play();else audioRef.current.pause();\n  }, [isPlaying]);\n  useEffect(() => {\n    audioRef.current.currentTime = 0;\n    return () => {\n      // eslint-disable-next-line\n      audioRef.current.pause();\n    };\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.musicPlayerContainer,\n    className: \"music-controller-container \",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.playerStart,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(motion.img, {\n          variants: vars,\n          animate: isPlaying ? 'play' : 'pause',\n          src: CDIcon,\n          style: styles.cd,\n          onMouseDown: togglePlay,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.playerInfo,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.progressContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.time,\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: formatTime(currentTime)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.progressBarContainer,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: Object.assign({}, styles.progress, {\n              // transform scaleX = currentTime / duration\n              transform: `scaleX(${currentTime / duration})`\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.time,\n          children: /*#__PURE__*/_jsxDEV(\"b\", {\n            children: duration === 1 ? '..:..' : formatTime(duration)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: styles.playerBottom,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.info,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: props.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: props.subtitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: styles.playerControls,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.controlButton,\n            className: \"site-button\",\n            onMouseDown: fastRewind,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: RewindIcon,\n              style: styles.controlIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.controlButton,\n            className: \"site-button\",\n            onMouseDown: togglePlay,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: isPlaying ? PauseIcon : PlayIcon,\n              style: styles.controlIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 144,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: styles.controlButton,\n            className: \"site-button\",\n            onMouseDown: fastForward,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: ForwardIcon,\n              style: styles.controlIcon,\n              alt: \"\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(MusicPlayer, \"Z97Fyw+xmbKcYVILetErbpOnEdA=\");\n\n_c = MusicPlayer;\nconst vars = {\n  play: {\n    rotate: 360,\n    transition: {\n      repeat: Infinity,\n      duration: 0.9,\n      ease: 'linear'\n    }\n  },\n  pause: {\n    rotate: -360,\n    transition: {\n      duration: 0.6,\n      ease: 'easeOut'\n    }\n  }\n};\nconst styles = {\n  musicPlayerContainer: {\n    flexDirection: 'row',\n    width: '100%',\n    borderRadius: 4\n  },\n  playerControls: {\n    justifyContent: 'center',\n    alignItems: 'center',\n    background: 'red'\n  },\n  progress: {\n    width: '100%',\n    transform: `scaleX(0)`,\n    height: 6,\n    background: colors.black,\n    transformOrigin: 'left'\n  },\n  progressBarContainer: {\n    width: '100%',\n    height: 6,\n    background: colors.lightGray,\n    marginLeft: 8,\n    marginRight: 8\n  },\n  progressContainer: {\n    flexDirection: 'row',\n    width: '100%',\n    alignItems: 'center'\n  },\n  playerInfo: {\n    flex: 1,\n    overflow: 'hidden',\n    border: `1px solid ${colors.darkGray}`,\n    borderTopWidth: 0,\n    flexDirection: 'column',\n    borderBottomWidth: 0,\n    padding: 16,\n    paddingTop: 18\n  },\n  info: {\n    flexDirection: 'column'\n  },\n  playerBottom: {\n    paddingTop: 2,\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  playerStart: {\n    flexShrink: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: 96\n  },\n  controlButton: {\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  controlIcon: {\n    width: 20,\n    height: 20\n  },\n  time: {\n    fontSize: 14\n  },\n  cd: {\n    width: 56,\n    height: 56,\n    cursor: 'pointer'\n  }\n};\nexport default MusicPlayer;\n\nvar _c;\n\n$RefreshReg$(_c, \"MusicPlayer\");","map":{"version":3,"sources":["/Users/hyeonminsong/developer/Three.js/portfolio-inner-site/src/components/general/MusicPlayer.tsx"],"names":["React","useState","useRef","useEffect","PlayIcon","PauseIcon","RewindIcon","ForwardIcon","CDIcon","colors","motion","MusicPlayer","props","isPlaying","setIsPlaying","audioRef","Audio","src","currentTime","setCurrentTime","duration","setDuration","current","addEventListener","fastForward","fastRewind","togglePlay","setCurrentSong","title","currentSong","play","pause","formatTime","time","minutes","Math","floor","seconds","styles","musicPlayerContainer","playerStart","vars","cd","playerInfo","progressContainer","progressBarContainer","Object","assign","progress","transform","playerBottom","info","subtitle","playerControls","controlButton","controlIcon","rotate","transition","repeat","Infinity","ease","flexDirection","width","borderRadius","justifyContent","alignItems","background","height","black","transformOrigin","lightGray","marginLeft","marginRight","flex","overflow","border","darkGray","borderTopWidth","borderBottomWidth","padding","paddingTop","flexShrink","fontSize","cursor"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport PlayIcon from '../../assets/icons/play.png';\nimport PauseIcon from '../../assets/icons/pause.png';\nimport RewindIcon from '../../assets/icons/rewind.png';\nimport ForwardIcon from '../../assets/icons/forward.png';\nimport CDIcon from '../../assets/icons/cd.png';\nimport colors from '../../constants/colors';\n\nimport { motion, Variants } from 'framer-motion';\n\nexport interface MusicPlayerProps {\n    src: string;\n    title: string;\n    subtitle: string;\n    currentSong: string;\n    setCurrentSong: React.Dispatch<React.SetStateAction<string>>;\n}\n\nconst MusicPlayer: React.FC<MusicPlayerProps> = (props) => {\n    const [isPlaying, setIsPlaying] = useState(false);\n    const audioRef = useRef(new Audio(props.src));\n    const [currentTime, setCurrentTime] = useState(0);\n    const [duration, setDuration] = useState(1);\n\n    // set current time\n    useEffect(() => {\n        audioRef.current.addEventListener('timeupdate', () => {\n            setCurrentTime(audioRef.current.currentTime);\n            setDuration(audioRef.current.duration);\n            if (audioRef.current.currentTime === audioRef.current.duration) {\n                setIsPlaying(false);\n            }\n        });\n    }, []);\n\n    // fast fowrad 15 seconds\n    const fastForward = () => {\n        audioRef.current.currentTime += 15;\n    };\n\n    // fast rewind to start of song\n    const fastRewind = () => {\n        audioRef.current.currentTime = 0;\n    };\n\n    const togglePlay = () => {\n        if (isPlaying) {\n            // setCdState(CDState.easeIn);\n            setIsPlaying(false);\n        } else {\n            // setCdState(CDState.easeOut);\n            setIsPlaying(true);\n            props.setCurrentSong(props.title);\n        }\n    };\n\n    useEffect(() => {\n        if (props.currentSong === props.title) {\n            audioRef.current.play();\n            setIsPlaying(true);\n        } else {\n            audioRef.current.pause();\n            setIsPlaying(false);\n        }\n    }, [props.currentSong, props.title]);\n\n    // format current time\n    const formatTime = (time: number) => {\n        const minutes = Math.floor(time / 60);\n        const seconds = Math.floor(time - minutes * 60);\n        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;\n    };\n\n    useEffect(() => {\n        if (isPlaying) audioRef.current.play();\n        else audioRef.current.pause();\n    }, [isPlaying]);\n\n    useEffect(() => {\n        audioRef.current.currentTime = 0;\n        return () => {\n            // eslint-disable-next-line\n            audioRef.current.pause();\n        };\n    }, []);\n\n    return (\n        <div\n            style={styles.musicPlayerContainer}\n            className=\"music-controller-container \"\n        >\n            <div style={styles.playerStart}>\n                <div>\n                    <motion.img\n                        variants={vars}\n                        animate={isPlaying ? 'play' : 'pause'}\n                        src={CDIcon}\n                        style={styles.cd}\n                        onMouseDown={togglePlay}\n                        alt=\"\"\n                    />\n                </div>\n            </div>\n            <div style={styles.playerInfo}>\n                <div style={styles.progressContainer}>\n                    <p style={styles.time}>\n                        <b>{formatTime(currentTime)}</b>\n                    </p>\n\n                    <div style={styles.progressBarContainer}>\n                        <div\n                            style={Object.assign({}, styles.progress, {\n                                // transform scaleX = currentTime / duration\n                                transform: `scaleX(${currentTime / duration})`,\n                            })}\n                        />\n                    </div>\n                    <p style={styles.time}>\n                        <b>{duration === 1 ? '..:..' : formatTime(duration)}</b>\n                    </p>\n                </div>\n                <div style={styles.playerBottom}>\n                    <div style={styles.info}>\n                        <h3>{props.title}</h3>\n                        <p>{props.subtitle}</p>\n                    </div>\n                    <div style={styles.playerControls}>\n                        <div\n                            style={styles.controlButton}\n                            className=\"site-button\"\n                            onMouseDown={fastRewind}\n                        >\n                            <img\n                                src={RewindIcon}\n                                style={styles.controlIcon}\n                                alt=\"\"\n                            />\n                        </div>\n                        <div\n                            style={styles.controlButton}\n                            className=\"site-button\"\n                            onMouseDown={togglePlay}\n                        >\n                            <img\n                                src={isPlaying ? PauseIcon : PlayIcon}\n                                style={styles.controlIcon}\n                                alt=\"\"\n                            />\n                        </div>\n                        <div\n                            style={styles.controlButton}\n                            className=\"site-button\"\n                            onMouseDown={fastForward}\n                        >\n                            <img\n                                src={ForwardIcon}\n                                style={styles.controlIcon}\n                                alt=\"\"\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nconst vars: Variants = {\n    play: {\n        rotate: 360,\n        transition: { repeat: Infinity, duration: 0.9, ease: 'linear' },\n    },\n    pause: {\n        rotate: -360,\n        transition: {\n            duration: 0.6,\n            ease: 'easeOut',\n        },\n    },\n};\n\nconst styles: StyleSheetCSS = {\n    musicPlayerContainer: {\n        flexDirection: 'row',\n        width: '100%',\n        borderRadius: 4,\n    },\n    playerControls: {\n        justifyContent: 'center',\n        alignItems: 'center',\n        background: 'red',\n    },\n    progress: {\n        width: '100%',\n        transform: `scaleX(0)`,\n        height: 6,\n        background: colors.black,\n        transformOrigin: 'left',\n    },\n    progressBarContainer: {\n        width: '100%',\n        height: 6,\n        background: colors.lightGray,\n        marginLeft: 8,\n        marginRight: 8,\n    },\n    progressContainer: {\n        flexDirection: 'row',\n        width: '100%',\n        alignItems: 'center',\n    },\n    playerInfo: {\n        flex: 1,\n        overflow: 'hidden',\n        border: `1px solid ${colors.darkGray}`,\n        borderTopWidth: 0,\n        flexDirection: 'column',\n        borderBottomWidth: 0,\n        padding: 16,\n        paddingTop: 18,\n    },\n    info: {\n        flexDirection: 'column',\n    },\n    playerBottom: {\n        paddingTop: 2,\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    },\n    playerStart: {\n        flexShrink: 1,\n\n        justifyContent: 'center',\n        alignItems: 'center',\n        width: 96,\n    },\n    controlButton: {\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    controlIcon: {\n        width: 20,\n        height: 20,\n    },\n    time: {\n        fontSize: 14,\n    },\n    cd: {\n        width: 56,\n        height: 56,\n        cursor: 'pointer',\n    },\n};\n\nexport default MusicPlayer;\n"]},"metadata":{},"sourceType":"module"}